# ============================================
# HushRyd Backend Environment Configuration
# ============================================
# Copy this file to .env and fill in your values
# NEVER commit .env files with real secrets!
# ============================================

# ===================
# Server Configuration
# ===================
# Port the server listens on
PORT=5000

# Environment: development | staging | production
NODE_ENV=development

# Allowed CORS origins (comma-separated for multiple)
CORS_ORIGIN=http://localhost:3000

# API Version prefix
API_VERSION=v1

# ===================
# Database (MongoDB)
# ===================
# MongoDB connection string
# Development: mongodb://localhost:27017/hushryd
# Production: Use MongoDB Atlas connection string from AWS Secrets Manager
MONGODB_URI=mongodb://localhost:27017/hushryd

# ===================
# Redis (Session & Cache)
# ===================
# Redis connection URL for session storage and caching
# Required for production scaling
REDIS_URL=redis://localhost:6379

# ===================
# Authentication (JWT)
# ===================
# Secret key for signing JWT tokens (min 32 characters)
# CRITICAL: Generate a strong random string for production
JWT_SECRET=your-super-secret-jwt-key-change-in-production-min-32-chars

# JWT token expiry duration
JWT_EXPIRY=7d

# Refresh token expiry
REFRESH_TOKEN_EXPIRY=30d

# ===================
# Encryption
# ===================
# Secret key for encrypting sensitive data at rest
# If not set, JWT_SECRET will be used as fallback
ENCRYPTION_SECRET=your-encryption-secret-key-change-in-production

# ===================
# API Key Security
# ===================
# API key for mobile app authentication
# Generated and managed via API Key Service
API_KEY_SECRET=your-api-key-signing-secret

# Enable API key validation (true in production)
ENABLE_API_KEY_VALIDATION=false

# ===================
# SMS Service (Twilio)
# ===================
# Twilio credentials for OTP and notifications
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_PHONE_NUMBER=+1234567890

# Fallback SMS provider (MSG91)
MSG91_AUTH_KEY=your-msg91-auth-key
MSG91_SENDER_ID=HUSRYD

# ===================
# Email Service (SendGrid)
# ===================
SENDGRID_API_KEY=your-sendgrid-api-key
SENDGRID_FROM_EMAIL=noreply@hushryd.com
SENDGRID_FROM_NAME=HushRyd

# ===================
# WhatsApp Business API
# ===================
WHATSAPP_API_KEY=your-whatsapp-api-key
WHATSAPP_PHONE_NUMBER_ID=your-whatsapp-phone-number-id
WHATSAPP_BUSINESS_ACCOUNT_ID=your-whatsapp-business-account-id

# ===================
# Payment Gateway (Razorpay)
# ===================
RAZORPAY_KEY_ID=your-razorpay-key-id
RAZORPAY_KEY_SECRET=your-razorpay-key-secret
RAZORPAY_WEBHOOK_SECRET=your-razorpay-webhook-secret

# ===================
# Payment Gateway (Cashfree)
# ===================
# Cashfree credentials for payment processing
# Get credentials from: https://merchant.cashfree.com/merchants/pg-dashboard
CASHFREE_APP_ID=your-cashfree-app-id
CASHFREE_SECRET_KEY=your-cashfree-secret-key
CASHFREE_API_VERSION=2023-08-01

# Environment: sandbox | production
CASHFREE_ENVIRONMENT=sandbox

# Webhook secret for signature verification
CASHFREE_WEBHOOK_SECRET=your-cashfree-webhook-secret

# ===================
# AWS Services
# ===================
# AWS credentials (use IAM roles in production)
AWS_ACCESS_KEY_ID=your-aws-access-key-id
AWS_SECRET_ACCESS_KEY=your-aws-secret-access-key
AWS_REGION=ap-south-1

# S3 Storage for documents and images
AWS_S3_BUCKET=hushryd-documents-dev
AWS_S3_PRESIGNED_URL_EXPIRY=3600

# AWS Secrets Manager (production only)
AWS_SECRETS_MANAGER_SECRET_ID=dev/hushryd/backend

# ===================
# OTP Configuration
# ===================
# OTP expiry in minutes
OTP_EXPIRY_MINUTES=5

# Maximum OTP verification attempts
OTP_MAX_ATTEMPTS=3

# OTP length
OTP_LENGTH=6

# ===================
# Rate Limiting
# ===================
# Requests per window
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# ===================
# Logging
# ===================
# Log level: error | warn | info | debug
LOG_LEVEL=info

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ===================
# Feature Flags
# ===================
# Enable SOS functionality
ENABLE_SOS=true

# Enable mask calling feature
ENABLE_MASK_CALLING=false

# Enable demo mode (for testing)
ENABLE_DEMO_MODE=false

# ===================
# External Services
# ===================
# Google Maps API (for geocoding)
GOOGLE_MAPS_API_KEY=your-google-maps-api-key

# Exotel for mask calling
EXOTEL_SID=your-exotel-sid
EXOTEL_API_KEY=your-exotel-api-key
EXOTEL_API_TOKEN=your-exotel-api-token

# ===================
# Monitoring (Optional)
# ===================
# Sentry DSN for error tracking
SENTRY_DSN=

# New Relic license key
NEW_RELIC_LICENSE_KEY=
